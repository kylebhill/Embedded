This lab I wrote a code to change the brightness of a LED using a potentiometer and an ADC. For my code I used timer 0 to sample for ADC every 7ms and used timer2 at 300Hz with the duty cycle being based on the ADC value. Every 7ms I would start an ADC conversion from channel 3 which would change OCR2B to reflect a new duty cycle. I made use of interrupts to turn the LED on and off, an interrupt whenever ADC conversion finished to change OCR2B and an interrupt from timer0 starting the ADC conversion. Additionally, I donâ€™t use the full 10 bits of accuracy in my conversion instead I only use the 8 most significant bits. This allows me to use ADCH directly. My program works as intended and there is no issue with reading from ADC.
